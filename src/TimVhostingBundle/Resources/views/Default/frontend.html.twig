{% extends '@TimVhosting/layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="/css/frontend.css" />
{% endblock %}

{% block body %}

    {% include '@TimVhosting/carousel.html.twig' %}

    <div class="container" style="margin-bottom: 40px;">
        <div class="row">
            <div class="col-md-9">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div>
                            <div>
                                <h3 class="panel-title" style="text-align: left;"><i class="fa fa-video-camera"></i>
                                    <span>
                                        {{ 'frontend.video_list'|trans({}, 'TimVhostingBundle') }}
                                    </span>

                                    <span style="float: right;">
                                        {{ 'frontend.video_found_count'|trans({}, 'TimVhostingBundle') }}: {{ pagination.getTotalItemCount }}
                                    </span>
                                </h3>
                            </div>
                        </div>
                    </div>

                    <div class="panel-body">
                        {% for video in pagination %}
                            {% if loop.index is odd %}<div class="row row-video-items">{% endif %}

                                <div class="div-img-content">
                                    <a href="{{ path('show_video_name', {'name' : video}) }}">
                                        <img src="http://img.youtube.com/vi/{{ video.youtubeVideoId }}/0.jpg"
                                             alt="{{ video }}" width="80%" align="center" />
                                    </a>
                                    <p style="padding-top: 10px;">
                                        <strong>
                                            <span style="font-size: 17px;">{{ video }}</span>
                                        </strong>
                                    </p>
                                    <div class="row" style="padding-left: 25px;">
                                        <div style="width: 49%; float: left;">
                                            {# {{ 'frontend.video_added'|trans({}, 'TimVhostingBundle') }}: {{ video.createdAt|date("d F Y") }} #}
                                            <i class="fa fa-calendar-plus-o"></i> {{ video.createdAt|date("d F Y") }}
                                        </div>
                                        <div style="width: 49%; float: left;">
                                            {% if video.durationVideo is not null %}
                                                {#<br/>{{ 'frontend.video_duration'|trans({}, 'TimVhostingBundle') }}: {{ video.durationVideoAsString }}#}
                                                <i class="fa fa-clock-o"></i> {{ video.durationVideoAsString }}
                                            {% else %}
                                                <i class="fa fa-clock-o"></i> {{ 'frontend.video_duration_unknown'|trans({}, 'TimVhostingBundle') }}
                                            {% endif %}
                                        </div>
                                    </div>
                                    <div class="row" style="padding-left: 25px;">
                                        <div style="width: 49%; float: left;">
                                        <i class="fa fa-binoculars"></i> {{ video.viewCount }} {{ 'frontend.video_view_count'|trans({}, 'TimVhostingBundle') }}
                                        </div>
                                        <div style="width: 49%; float: left;">
                                        <i class="fa fa-thumbs-o-up"></i> {{ video.likeCount }} {#{{ 'frontend.video_like_count'|trans({}, 'TimVhostingBundle') }}#}
                                        </div>
                                    </div>
                                </div>

                            {# {{ dump(loop) }} #}
                            {% if loop.last or loop.index is not odd %}</div>{% endif %}
                        {% endfor %}

                        <div class="navigation navigation-frontend">
                            {{ knp_pagination_render(pagination) }}
                        </div>
                    </div>
                </div>


            </div>
            <div class="col-md-3">
                <div class="panel panel-success">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-tags"></i> {{ 'frontend.video_tags'|trans({}, 'TimVhostingBundle') }}</h3>
                    </div>
                    <div class="panel-body">
                        {% for tag in tags %}
                            {% set className = 'btn-success' %}
                            {% if selectedTag is defined %}
                                {% if selectedTag == tag %}
                                    {% set className = 'btn-primary' %}
                                {% endif %}
                            {% endif %}
                            <a href="{{ path('Home', {'tag' : tag}) }}"><button type="button" class="btn {{ className }} btn-tags">{{ tag }}</button></a>
                        {% endfor %}

                        <hr style="width: 100%; margin-top: 0px;" />
                        <a href="{{ path('Home') }}"><button type="button" class="btn btn-danger btn-tags">{{ 'frontend.clear_tags_filter'|trans({}, 'TimVhostingBundle') }}</button></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock body %}

{% block footer_container %}
    <p class="pull-right"><a href="#">{{ 'footer.back_to_top'|trans({}, 'TimVhostingBundle') }}</a></p>
    {{ parent() }}
{% endblock footer_container %}